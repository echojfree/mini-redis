# Mini Redis 配置文件

# 服务器配置
server.port=6379
server.bind=0.0.0.0
server.backlog=128
server.timeout=0
server.tcp-keepalive=300

# 网络配置
network.io-threads=4
network.worker-threads=8
network.so-backlog=511
network.tcp-nodelay=true

# 存储配置
storage.databases=16
storage.maxmemory=0
storage.maxmemory-policy=noeviction
storage.maxmemory-samples=5

# 持久化配置
# RDB 配置
rdb.enabled=true
rdb.filename=dump.rdb
rdb.save-seconds=900
rdb.save-changes=1
rdb.compression=true
rdb.checksum=true

# AOF 配置
aof.enabled=false
aof.filename=appendonly.aof
aof.fsync=everysec
aof.no-fsync-on-rewrite=false
aof.rewrite-percentage=100
aof.rewrite-min-size=64mb

# 过期键处理
expire.hz=10
expire.lazy-expire=true

# 客户端配置
client.max-clients=10000
client.output-buffer-limit=0

# 日志配置
log.level=info
log.file=logs/mini-redis.log
log.syslog-enabled=false

# 慢查询日志
slowlog.log-slower-than=10000
slowlog.max-len=128

# 调试配置
debug.object-freeing=true